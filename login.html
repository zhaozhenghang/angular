<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script src="https://code.angularjs.org/1.5.5/angular.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div ng-app="app" ng-controller="outer">
			{{message}}
			<div ng-controller="login">
				<input type="text" ng-model="username" placeholder="请输入用户名" />
				<input type="text" ng-model="password" placeholder="请输入密码" />
				<button ng-click='yanzheng()'>登陆</button>
				{{message}}
			</div>
			
		</div>
	</body>
	<script type="text/javascript">
		angular.module('app',[]).controller('login',['$scope',function($scope){
			$scope.yanzheng = function(){
				if($scope.username=='abc'&&$scope.password =='123'){
					$scope.message="登录成功";
					$scope.$emit('login',$scope.username);
				}else{
					$scope.message="用户名或密码错误";
				}
			}
		}]).controller('outer',['$scope',function($scope){
			 $scope.message="游客";
			$scope.$on('login',function(e,data){
				  $scope.message ="你好:"+data;
			})
		}])
	</script>
</html>
